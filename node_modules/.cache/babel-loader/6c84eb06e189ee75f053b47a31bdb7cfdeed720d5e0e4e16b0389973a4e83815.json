{"ast":null,"code":"var _jsxFileName = \"D:\\\\ngo\\\\frontend\\\\src\\\\pages\\\\MoneyDonation.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport jsPDF from \"jspdf\";\nimport axios from \"axios\";\nimport \"./MoneyDonation.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MoneyDonation = () => {\n  _s();\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [amount, setAmount] = useState(\"\");\n  const handlePayment = async e => {\n    e.preventDefault();\n    if (!name || !email || !amount) {\n      alert(\"Please fill all fields\");\n      return;\n    }\n\n    // Load Razorpay script dynamically\n    const res = await loadRazorpayScript(\"https://checkout.razorpay.com/v1/checkout.js\");\n    if (!res) {\n      alert(\"Razorpay SDK failed to load.\");\n      return;\n    }\n    try {\n      // Create order on backend\n      const orderResponse = await axios.post(\"http://localhost:5000/create-order\", {\n        amount\n      });\n      const {\n        id: order_id,\n        amount: orderAmount,\n        currency\n      } = orderResponse.data;\n      const options = {\n        key: \"rzp_test_1234567890abcdef\",\n        // üß† Replace with your Razorpay Test Key\n        amount: orderAmount,\n        currency,\n        name: \"Helping Universe NGO\",\n        description: \"Donation Transaction\",\n        order_id: order_id,\n        handler: async function (response) {\n          const data = {\n            orderCreationId: order_id,\n            razorpayPaymentId: response.razorpay_payment_id,\n            razorpayOrderId: response.razorpay_order_id,\n            razorpaySignature: response.razorpay_signature,\n            donor: {\n              name,\n              email,\n              amount\n            }\n          };\n          const verifyResponse = await axios.post(\"http://localhost:5000/verify-payment\", data);\n          if (verifyResponse.data.status === \"success\") {\n            alert(\"üéâ Payment Successful!\");\n            generatePDF();\n          } else {\n            alert(\"‚ùå Payment verification failed!\");\n          }\n        },\n        prefill: {\n          name,\n          email\n        },\n        theme: {\n          color: \"#1e90ff\"\n        }\n      };\n      const paymentObject = new window.Razorpay(options);\n      paymentObject.open();\n    } catch (error) {\n      console.error(error);\n      alert(\"Server error. Please try again.\");\n    }\n  };\n  const loadRazorpayScript = src => {\n    return new Promise(resolve => {\n      const script = document.createElement(\"script\");\n      script.src = src;\n      script.onload = () => resolve(true);\n      script.onerror = () => resolve(false);\n      document.body.appendChild(script);\n    });\n  };\n  const generatePDF = () => {\n    const doc = new jsPDF();\n    doc.setFont(\"helvetica\", \"bold\");\n    doc.setFontSize(20);\n    doc.text(\"Helping Universe NGO\", 60, 20);\n    doc.setFontSize(14);\n    doc.text(\"Donation Receipt\", 80, 35);\n    doc.setFontSize(12);\n    doc.text(`Donor Name: ${name}`, 20, 60);\n    doc.text(`Email: ${email}`, 20, 70);\n    doc.text(`Amount Donated: ‚Çπ${amount}`, 20, 80);\n    doc.text(`Date: ${new Date().toLocaleDateString()}`, 20, 90);\n    doc.text(\"Thank you for your contribution!\", 20, 110);\n    doc.save(`Donation_Receipt_${name}.pdf`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"money-donation-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83D\\uDCB0 Money Donation\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Your small contribution can make a big difference \\uD83C\\uDF0D\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"money-donation-form\",\n      onSubmit: handlePayment,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Full Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: name,\n          onChange: e => setName(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Email:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Donation Amount (\\u20B9):\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: amount,\n          onChange: e => setAmount(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Donate Securely via Razorpay \\uD83D\\uDCB3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n};\n_s(MoneyDonation, \"nQk3wlVjtWNvtSu27baJrEaOZ54=\");\n_c = MoneyDonation;\nexport default MoneyDonation;\nvar _c;\n$RefreshReg$(_c, \"MoneyDonation\");","map":{"version":3,"names":["React","useState","jsPDF","axios","jsxDEV","_jsxDEV","MoneyDonation","_s","name","setName","email","setEmail","amount","setAmount","handlePayment","e","preventDefault","alert","res","loadRazorpayScript","orderResponse","post","id","order_id","orderAmount","currency","data","options","key","description","handler","response","orderCreationId","razorpayPaymentId","razorpay_payment_id","razorpayOrderId","razorpay_order_id","razorpaySignature","razorpay_signature","donor","verifyResponse","status","generatePDF","prefill","theme","color","paymentObject","window","Razorpay","open","error","console","src","Promise","resolve","script","document","createElement","onload","onerror","body","appendChild","doc","setFont","setFontSize","text","Date","toLocaleDateString","save","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","required","_c","$RefreshReg$"],"sources":["D:/ngo/frontend/src/pages/MoneyDonation.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport jsPDF from \"jspdf\";\r\nimport axios from \"axios\";\r\nimport \"./MoneyDonation.css\";\r\n\r\nconst MoneyDonation = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [amount, setAmount] = useState(\"\");\r\n\r\n  const handlePayment = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!name || !email || !amount) {\r\n      alert(\"Please fill all fields\");\r\n      return;\r\n    }\r\n\r\n    // Load Razorpay script dynamically\r\n    const res = await loadRazorpayScript(\"https://checkout.razorpay.com/v1/checkout.js\");\r\n    if (!res) {\r\n      alert(\"Razorpay SDK failed to load.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Create order on backend\r\n      const orderResponse = await axios.post(\"http://localhost:5000/create-order\", {\r\n        amount,\r\n      });\r\n\r\n      const { id: order_id, amount: orderAmount, currency } = orderResponse.data;\r\n\r\n      const options = {\r\n        key: \"rzp_test_1234567890abcdef\", // üß† Replace with your Razorpay Test Key\r\n        amount: orderAmount,\r\n        currency,\r\n        name: \"Helping Universe NGO\",\r\n        description: \"Donation Transaction\",\r\n        order_id: order_id,\r\n        handler: async function (response) {\r\n          const data = {\r\n            orderCreationId: order_id,\r\n            razorpayPaymentId: response.razorpay_payment_id,\r\n            razorpayOrderId: response.razorpay_order_id,\r\n            razorpaySignature: response.razorpay_signature,\r\n            donor: { name, email, amount },\r\n          };\r\n\r\n          const verifyResponse = await axios.post(\"http://localhost:5000/verify-payment\", data);\r\n\r\n          if (verifyResponse.data.status === \"success\") {\r\n            alert(\"üéâ Payment Successful!\");\r\n            generatePDF();\r\n          } else {\r\n            alert(\"‚ùå Payment verification failed!\");\r\n          }\r\n        },\r\n        prefill: {\r\n          name,\r\n          email,\r\n        },\r\n        theme: {\r\n          color: \"#1e90ff\",\r\n        },\r\n      };\r\n\r\n      const paymentObject = new window.Razorpay(options);\r\n      paymentObject.open();\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert(\"Server error. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const loadRazorpayScript = (src) => {\r\n    return new Promise((resolve) => {\r\n      const script = document.createElement(\"script\");\r\n      script.src = src;\r\n      script.onload = () => resolve(true);\r\n      script.onerror = () => resolve(false);\r\n      document.body.appendChild(script);\r\n    });\r\n  };\r\n\r\n  const generatePDF = () => {\r\n    const doc = new jsPDF();\r\n    doc.setFont(\"helvetica\", \"bold\");\r\n    doc.setFontSize(20);\r\n    doc.text(\"Helping Universe NGO\", 60, 20);\r\n    doc.setFontSize(14);\r\n    doc.text(\"Donation Receipt\", 80, 35);\r\n\r\n    doc.setFontSize(12);\r\n    doc.text(`Donor Name: ${name}`, 20, 60);\r\n    doc.text(`Email: ${email}`, 20, 70);\r\n    doc.text(`Amount Donated: ‚Çπ${amount}`, 20, 80);\r\n    doc.text(`Date: ${new Date().toLocaleDateString()}`, 20, 90);\r\n    doc.text(\"Thank you for your contribution!\", 20, 110);\r\n\r\n    doc.save(`Donation_Receipt_${name}.pdf`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"money-donation-container\">\r\n      <h2>üí∞ Money Donation</h2>\r\n      <p>Your small contribution can make a big difference üåç</p>\r\n\r\n      <form className=\"money-donation-form\" onSubmit={handlePayment}>\r\n        <label>\r\n          Full Name:\r\n          <input type=\"text\" value={name} onChange={(e) => setName(e.target.value)} required />\r\n        </label>\r\n        <label>\r\n          Email:\r\n          <input type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} required />\r\n        </label>\r\n        <label>\r\n          Donation Amount (‚Çπ):\r\n          <input type=\"number\" value={amount} onChange={(e) => setAmount(e.target.value)} required />\r\n        </label>\r\n        <button type=\"submit\">Donate Securely via Razorpay üí≥</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MoneyDonation;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}